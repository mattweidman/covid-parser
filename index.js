const input = document.getElementById("input");

const data = {
    "countyFIPS": "53033",
    "countyName": "King County",
    "state": "WA",
    "stateFIPS": "53",
    "population": 2252782,
    "cases": [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,6,9,14,21,31,51,58,71,83,116,190,234,270,328,387,420,488,562,562,693,793,934,1040,1170,1277,1359,1577,1828,2077,2161,2330,2330,2496,2656,2711,2865,3158,3295,3460,3668,3884,4047,4241,4422,4517,4612,4676,4796,4865,5024,5135,5259,5360,5427,5532,5637,5739,5863,5945,6001,6103,6207,6274,6351,6449,6545,6621,6704,6809,6863,6947,7007,7068,7137,7212,7290,7325,7426,7472,7515,7565,7602,7630,7669,7741,7783,7826,7835,7863,7923,7949,7993,8092,8123,8177,8264,8318,8371,8417,8457,8496,8529,8550,8550,8611,8694,8722,8785,8850,8885,8963,9061,9154,9211,9253,9366,9453,9573,9672,9809,9895,10019,10177,10304,10535],
    "deaths": [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,5,6,9,10,12,15,17,21,22,26,27,32,35,37,43,43,56,60,67,74,75,87,94,100,109,125,136,144,150,150,165,175,188,200,208,220,226,242,257,275,282,292,292,303,312,320,330,339,346,358,373,379,385,393,400,408,416,429,438,447,452,457,459,463,469,474,480,487,491,500,506,513,518,519,521,526,527,528,534,535,539,542,542,547,550,552,559,562,564,567,567,569,570,573,574,576,576,578,579,580,582,583,586,591,591,591,591,591,597,600,600,600,602,604,604,606,607,610,610,610,610,612,615]
};

input.addEventListener('keyup', (event) => {
    const inputText = event.target.value;

    var result;
    try {
        const ast = peg$parse(inputText);
        result = ast.evaluate(data);
    } catch (err) {
        result = err;
    }

    const output = document.getElementById("output");
    output.textContent = result;
});